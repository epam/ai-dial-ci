name: 'Generate release notes'
description: 'Generate release notes based on conventional commits'

runs:
  using: "composite"
  steps:
    - name: Checkout repository
      uses: actions/checkout@3df4ab11eba7bda6032a0b82a6bb43b11571feac #v4.0.0
      with:
        fetch-depth: 0
        lfs: true
    - uses: epam/ai-dial-ci/actions/prepare_python@feat/test-ci
    - name: Generate changelog
      id: generate_changelog
      shell: bash
      run: |
        set -x
        pip install auto-changelog
        {
          echo "CHANGELOG<<EOF"
          auto-changelog --github --stdout -u
          echo "EOF"
        } >> "$GITHUB_ENV"